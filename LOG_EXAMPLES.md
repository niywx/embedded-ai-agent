# æ—¥å¿—è¾“å‡ºç¤ºä¾‹ (Log Examples)

æœ¬æ–‡æ¡£å±•ç¤ºç³»ç»Ÿåœ¨ä¸åŒåœºæ™¯ä¸‹çš„å®é™…æ—¥å¿—è¾“å‡ºç¤ºä¾‹ï¼Œå¸®åŠ©æ‚¨ç†è§£å’Œä½¿ç”¨æ—¥å¿—ç³»ç»Ÿã€‚

---

## ğŸ“‹ ç›®å½•

1. [å®Œæ•´æˆåŠŸæ¡ˆä¾‹](#å®Œæ•´æˆåŠŸæ¡ˆä¾‹)
2. [PDF è½¬æ¢åœºæ™¯](#pdf-è½¬æ¢åœºæ™¯)
3. [é”™è¯¯å¤„ç†åœºæ™¯](#é”™è¯¯å¤„ç†åœºæ™¯)
4. [æ€§èƒ½åˆ†æç¤ºä¾‹](#æ€§èƒ½åˆ†æç¤ºä¾‹)

---

## å®Œæ•´æˆåŠŸæ¡ˆä¾‹

### åœºæ™¯ï¼šä½¿ç”¨ Datasheet (PDF) + Schematic (PDF) ç”Ÿæˆä»£ç 

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[API] ğŸ“¥ New Request Received (ID: 1705312845123)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[API] ğŸ“‹ Request Details:
[API]   â€¢ Client IP: ::1
[API]   â€¢ Timestamp: 2024-01-15T10:30:45.123Z
[API]   â€¢ User-Agent: node-fetch/2.6.1

[API] ğŸ“ Uploaded Files:
[API]   âœ“ Datasheet:
[API]     - Name: BF7615CMXX.pdf
[API]     - Size: 2345.67 KB
[API]     - Type: application/pdf
[API]     - Temp path: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\1705312845123-abc123.pdf
[API]   âœ“ Schematic:
[API]     - Name: Schematic Prints.pdf
[API]     - Size: 1234.56 KB
[API]     - Type: application/pdf
[API]     - Format: .PDF
[API]     - Temp path: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\1705312845124-xyz789.pdf

[API] ğŸ“ Instruction:
[API]   â€¢ Length: 256 characters
[API]   â€¢ Preview: ç”Ÿæˆä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼ŒåŒ…æ‹¬ç³»ç»Ÿæ—¶é’Ÿé…ç½®ã€GPIO é…ç½®ã€ä»¥åŠæ ¹æ®åŸç†å›¾é…ç½®æ‰€éœ€çš„å¼•è„šåŠŸèƒ½å’Œç”µå¹³çŠ¶æ€ã€‚ç¡®ä¿ä»£ç åŒ…å«ä¸­æ–‡æ³¨é‡Šã€‚

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          Embedded AI Agent Pipeline - START                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] â° Start time: 2024-01-15T10:30:45.456Z
[Pipeline] ğŸ“‹ Pipeline configuration:
[Pipeline]   â€¢ Datasheet: BF7615CMXX.pdf
[Pipeline]   â€¢ Schematic: Schematic Prints.pdf
[Pipeline]   â€¢ Instruction length: 256 chars
[Pipeline]   â€¢ Output path: Auto-generated


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ“¦ STEP 1/3: Extract Register Information
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

========================================
Step 1: Extracting Register Information
========================================

[Pipeline] ğŸ“– Extracting text from datasheet...
[Pipeline]   âœ“ Text extraction completed in 2.34s
[Pipeline]   â€¢ Original text length: 45678 characters
[Pipeline]   â€¢ Estimated pages: ~15
[Pipeline]   â€¢ Kept: 100.0% of original
[Pipeline] ğŸ“ Loading prompt templates...
[Pipeline]   âœ“ Templates loaded
[Pipeline]   â€¢ Total prompt length: 50234 characters
[Pipeline] ğŸ¤– Calling Qwen API to extract registers...
[Pipeline]   â€¢ Model: qwen-plus
[Pipeline]   â€¢ Temperature: 0.3
[Pipeline]   â€¢ MaxTokens: 8000

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] ğŸ”„ Attempt 1/3
[Qwen Text API] â° Start time: 2024-01-15T10:30:48.123Z
[Qwen Text API] ğŸ“Š Request details:
[Qwen Text API]   â€¢ Model: qwen-plus
[Qwen Text API]   â€¢ Temperature: 0.3
[Qwen Text API]   â€¢ Max tokens: 8000
[Qwen Text API]   â€¢ Messages: 2
[Qwen Text API]   â€¢ Total chars: 52145
[Qwen Text API]   â€¢ Timeout: 120000ms (120s)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] âœ… Success!
[Qwen Text API] â±ï¸  API call time: 15678ms (15.68s)
[Qwen Text API] ğŸ“ˆ Token usage:
[Qwen Text API]   â€¢ Input tokens: 12845
[Qwen Text API]   â€¢ Output tokens: 2567
[Qwen Text API]   â€¢ Total tokens: 15412
[Qwen Text API] ğŸ“ Response preview: {"registers":[{"address":"0x40021000","name":"RCC_CR","description":"æ—¶é’Ÿæ§åˆ¶å¯„å­˜å™¨","fields":[{"bit_range":"0","name":"HSION","description":"å†…éƒ¨é«˜é€Ÿæ—¶é’Ÿä½¿èƒ½","value":"0x1"},{"bit_range":"1","name":"HSIRDY","description":"å†…éƒ¨é«˜é€Ÿæ—¶é’Ÿå°±ç»ªæ ‡å¿—...
[Qwen Text API] ğŸ“ Response length: 4321 characters

[Pipeline]   âœ“ API call completed in 15.68s
[Pipeline] ğŸ“Š Analyzing API response...
[Pipeline]   â€¢ Response length: 4321 characters
[Pipeline]   â€¢ Response preview: {"registers":[{"address":"0x40021000","name":"RCC_CR","description":"æ—¶é’Ÿæ§åˆ¶å¯„å­˜å™¨"...
[Pipeline]   âœ“ JSON parsed successfully
[Pipeline] Successfully extracted 15 registers

[Pipeline] âœ… Step 1 completed in 18234ms (18.23s)
[Pipeline] ğŸ“Š Extracted data:
[Pipeline]   â€¢ Registers: 15
[Pipeline]   â€¢ Data size: 4321 bytes


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ”Œ STEP 2/3: Parse Schematic
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

========================================
Step 2: Parsing Schematic
========================================

[Pipeline] âš¡ Detected PDF schematic, attempting auto-conversion...

[PDF Converter] ğŸ”§ Using ImageMagick for conversion
[PDF Converter] â° Start time: 2024-01-15T10:31:03.901Z
[PDF Converter] ğŸ“Š Input file info:
[PDF Converter]   â€¢ Size: 1234.56 KB
[PDF Converter]   â€¢ Path: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\1705312845124-xyz789.pdf
[PDF Converter] ğŸ¨ Conversion settings:
[PDF Converter]   â€¢ DPI: 300
[PDF Converter]   â€¢ Output: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\Schematic Prints_1705312863901.png
[PDF Converter] ğŸš€ Executing command: magick convert -density 300 "F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai...
[PDF Converter]   âœ“ Command completed in 3456ms (3.46s)
[PDF Converter] âœ… Conversion successful!
[PDF Converter] ğŸ“Š Output file info:
[PDF Converter]   â€¢ Size: 2345.67 KB
[PDF Converter]   â€¢ Path: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\Schematic Prints_1705312863901.png
[PDF Converter]   â€¢ Compression ratio: 52.6%
[PDF Converter] â±ï¸  Total conversion time: 3567ms (3.57s)

[Pipeline] âœ“ PDF converted successfully to: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\Schematic Prints_1705312863901.png
[Pipeline] âœ“ Will use Vision model for schematic analysis
[Pipeline] ğŸ“Š Schematic Processing Info:
[Pipeline]   - Original path: Schematic Prints.pdf
[Pipeline]   - Actual path: Schematic Prints_1705312863901.png
[Pipeline]   - Is image: true
[Pipeline]   - Model to use: Vision (âœ“ Can see graphics)
[Pipeline] Schematic is an image, using Vision model...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Vision API] ğŸ”„ Attempt 1/3
[Qwen Vision API] â° Start time: 2024-01-15T10:31:07.567Z
[Qwen Vision API] ğŸ“Š Request details:
[Qwen Vision API]   â€¢ Model: qwen-vl-plus
[Qwen Vision API]   â€¢ Temperature: 0.3
[Qwen Vision API]   â€¢ Max tokens: 4000
[Qwen Vision API]   â€¢ Image size: 2345.67 KB
[Qwen Vision API]   â€¢ Base64 size: 3123456 chars
[Qwen Vision API]   â€¢ Prompt length: 1567 chars
[Qwen Vision API]   â€¢ Timeout: 120000ms (120s)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Vision API] âœ… Success!
[Qwen Vision API] â±ï¸  API call time: 22345ms (22.35s)
[Qwen Vision API] ğŸ“ˆ Token usage:
[Qwen Vision API]   â€¢ Input tokens: 15678
[Qwen Vision API]   â€¢ Output tokens: 1456
[Qwen Vision API]   â€¢ Total tokens: 17134
[Qwen Vision API] ğŸ“ Response preview: {"pin_mappings":[{"mcu_pin":"PA0","component_pin":"LED1","description":"LED æŒ‡ç¤ºç¯1"},{"mcu_pin":"PA1","component_pin":"LED2","description":"LED æŒ‡ç¤ºç¯2"},{"mcu_pin":"PA2","component_pin":"KEY1","descrip...
[Qwen Vision API] ğŸ“ Response length: 2456 characters

[Pipeline] Successfully parsed 8 pin mappings

[Pipeline] âœ… Step 2 completed in 26234ms (26.23s)
[Pipeline] ğŸ“Š Extracted data:
[Pipeline]   â€¢ Pin mappings: 8
[Pipeline]   â€¢ Input pins: 3
[Pipeline]   â€¢ Output pins: 5
[Pipeline]   â€¢ Data size: 2456 bytes


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ’» STEP 3/3: Generate C Code
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

========================================
Step 3: Generating C Code
========================================

[Pipeline] Calling Qwen API to generate code...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] ğŸ”„ Attempt 1/3
[Qwen Text API] â° Start time: 2024-01-15T10:31:33.901Z
[Qwen Text API] ğŸ“Š Request details:
[Qwen Text API]   â€¢ Model: qwen-plus
[Qwen Text API]   â€¢ Temperature: 0.5
[Qwen Text API]   â€¢ Max tokens: 4000
[Qwen Text API]   â€¢ Messages: 2
[Qwen Text API]   â€¢ Total chars: 8234
[Qwen Text API]   â€¢ Timeout: 120000ms (120s)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] âœ… Success!
[Qwen Text API] â±ï¸  API call time: 12345ms (12.35s)
[Qwen Text API] ğŸ“ˆ Token usage:
[Qwen Text API]   â€¢ Input tokens: 2345
[Qwen Text API]   â€¢ Output tokens: 1567
[Qwen Text API]   â€¢ Total tokens: 3912
[Qwen Text API] ğŸ“ Response preview: ```c
/**
 * @file    system_init.c
 * @brief   ç³»ç»Ÿåˆå§‹åŒ–ä»£ç 
 * @author  AI Generated
 * @date    2024-01-15
 */

#include "stm32f10x.h"

/**
 * @brief  ç³»ç»Ÿåˆå§‹åŒ–å‡½æ•°
 * @note   åŒ…æ‹¬ç³»ç»Ÿæ—¶é’Ÿé…ç½®ã€GPIO é…ç½®...
[Qwen Text API] ğŸ“ Response length: 3789 characters

[Pipeline] Successfully generated 145 lines of code

[Pipeline] âœ… Step 3 completed in 12456ms (12.46s)
[Pipeline] ğŸ“Š Generated code:
[Pipeline]   â€¢ Lines: 145
[Pipeline]   â€¢ Characters: 3654
[Pipeline]   â€¢ Size: 3.57 KB

[Pipeline] ğŸ’¾ Saving generated code...
[Pipeline]   â€¢ Output path: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\out\generated_1705312845123.c
[Pipeline]   â€¢ Encoding: UTF-8 with BOM
[Pipeline]   âœ“ File saved successfully


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ“Š PIPELINE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] â±ï¸  Total execution time: 56924ms (56.92s)
[Pipeline] ğŸ“ˆ Step timings:
[Pipeline]   1. Extract Registers: 18234ms (18.23s) - 32.0%
[Pipeline]   2. Parse Schematic: 26234ms (26.23s) - 46.1%
[Pipeline]   3. Generate Code: 12456ms (12.46s) - 21.9%
[Pipeline] ğŸ“ Output file: generated_1705312845123.c
[Pipeline] âœ… Status: SUCCESS

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Pipeline Completed Successfully! ğŸ‰                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


[API] ğŸ§¹ Cleaning up temporary files...
[API]   âœ“ Removed: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\1705312845123-abc123.pdf
[API]   âœ“ Removed: F:\LLM4EDA\å…¬å¸æ–‡ä»¶\demo generation\embedded-ai-agent\temp\1705312845124-xyz789.pdf

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[API] âœ… Request Completed Successfully (ID: 1705312845123)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[API] ğŸ“Š Generation Statistics:
[API]   â€¢ Total processing time: 56924ms (56.92s)
[API]   â€¢ Registers extracted: 15
[API]   â€¢ Pin mappings found: 8
[API]   â€¢ Generated code size: 3654 characters
[API]   â€¢ Generated code lines: 145
[API]   â€¢ Output file: generated_1705312845123.c
[API]   â€¢ Token usage total: 36458 tokens
[API]   â€¢ Estimated cost: Â¥0.29
```

**å…³é”®æŒ‡æ ‡ï¼š**
- æ€»è€—æ—¶ï¼š56.92 ç§’
- ä¸»è¦ç“¶é¢ˆï¼šåŸç†å›¾è§£æï¼ˆ46.1%ï¼‰
- Token ä½¿ç”¨ï¼š36458 tokens
- é¢„ä¼°æˆæœ¬ï¼šÂ¥0.29

---

## PDF è½¬æ¢åœºæ™¯

### åœºæ™¯ 1ï¼šæˆåŠŸè½¬æ¢ï¼ˆImageMagickï¼‰

```
[Pipeline] âš¡ Detected PDF schematic, attempting auto-conversion...

[PDF Converter] ğŸ”§ Using ImageMagick for conversion
[PDF Converter] â° Start time: 2024-01-15T10:31:03.901Z
[PDF Converter] ğŸ“Š Input file info:
[PDF Converter]   â€¢ Size: 1234.56 KB
[PDF Converter]   â€¢ Path: F:\...\temp\schematic.pdf
[PDF Converter] ğŸ¨ Conversion settings:
[PDF Converter]   â€¢ DPI: 300
[PDF Converter]   â€¢ Output: F:\...\temp\schematic_1705312863901.png
[PDF Converter] ğŸš€ Executing command: magick convert -density 300 "F:\...\temp\schematic.pdf" "F:\...\temp\schematic_1705312863901.png"
[PDF Converter]   âœ“ Command completed in 3456ms (3.46s)
[PDF Converter] âœ… Conversion successful!
[PDF Converter] ğŸ“Š Output file info:
[PDF Converter]   â€¢ Size: 2345.67 KB
[PDF Converter]   â€¢ Path: F:\...\temp\schematic_1705312863901.png
[PDF Converter]   â€¢ Compression ratio: 52.6%
[PDF Converter] â±ï¸  Total conversion time: 3567ms (3.57s)

[Pipeline] âœ“ PDF converted successfully
[Pipeline] âœ“ Will use Vision model for schematic analysis
```

### åœºæ™¯ 2ï¼šå¤šé¡µ PDF å¤„ç†

```
[PDF Converter] ğŸ”§ Using ImageMagick for conversion
[PDF Converter] ğŸ“Š Input file info:
[PDF Converter]   â€¢ Size: 3456.78 KB
[PDF Converter]   â€¢ Path: F:\...\temp\multipage.pdf
[PDF Converter] ğŸ¨ Conversion settings:
[PDF Converter]   â€¢ DPI: 300
[PDF Converter]   â€¢ Output: F:\...\temp\multipage_1705312863901.png
[PDF Converter] ğŸš€ Executing command: magick convert -density 300...
[PDF Converter]   âœ“ Command completed in 5678ms (5.68s)
[PDF Converter] ğŸ“„ Multi-page PDF detected:
[PDF Converter]   â€¢ Total pages: 5
[PDF Converter]   â€¢ Using first page: multipage_1705312863901-0.png
[PDF Converter] âœ… Conversion successful!
[PDF Converter] ğŸ“Š Output file info:
[PDF Converter]   â€¢ Size: 1234.56 KB
[PDF Converter]   â€¢ Path: F:\...\temp\multipage_1705312863901-0.png
[PDF Converter]   â€¢ Compression ratio: 35.7%
[PDF Converter] â±ï¸  Total conversion time: 5789ms (5.79s)
```

### åœºæ™¯ 3ï¼šè½¬æ¢å¤±è´¥ï¼ˆå›é€€åˆ° Ghostscriptï¼‰

```
[Pipeline] âš¡ Detected PDF schematic, attempting auto-conversion...

[PDF Converter] ğŸ”§ Using ImageMagick for conversion
[PDF Converter] ğŸ“Š Input file info:
[PDF Converter]   â€¢ Size: 1234.56 KB
[PDF Converter]   â€¢ Path: F:\...\temp\schematic.pdf
[PDF Converter] ğŸš€ Executing command: magick convert -density 300...
[PDF Converter] âŒ ImageMagick conversion failed after 1234ms
[PDF Converter]   â€¢ Error: Command failed: 'magick' is not recognized

[PDF Converter] ğŸ‘» Using Ghostscript for conversion
[PDF Converter] â° Start time: 2024-01-15T10:31:05.123Z
[PDF Converter] ğŸ“Š Input file info:
[PDF Converter]   â€¢ Size: 1234.56 KB
[PDF Converter]   â€¢ Path: F:\...\temp\schematic.pdf
[PDF Converter] ğŸ¨ Conversion settings:
[PDF Converter]   â€¢ DPI: 300
[PDF Converter]   â€¢ Device: png16m (24-bit color)
[PDF Converter]   â€¢ Pages: First page only
[PDF Converter]   â€¢ Output: F:\...\temp\schematic_1705312865123.png
[PDF Converter] ğŸš€ Executing command: gswin64c -dSAFER -dBATCH -dNOPAUSE...
[PDF Converter]   âœ“ Command completed in 4567ms (4.57s)
[PDF Converter] âœ… Conversion successful!
[PDF Converter] ğŸ“Š Output file info:
[PDF Converter]   â€¢ Size: 2456.78 KB
[PDF Converter]   â€¢ Path: F:\...\temp\schematic_1705312865123.png
[PDF Converter]   â€¢ Compression ratio: 50.3%
[PDF Converter] â±ï¸  Total conversion time: 4678ms (4.68s)

[Pipeline] âœ“ PDF converted successfully using Ghostscript
```

### åœºæ™¯ 4ï¼šè½¬æ¢å®Œå…¨å¤±è´¥

```
[Pipeline] âš¡ Detected PDF schematic, attempting auto-conversion...
[PDF Converter] ImageMagick not found, trying Ghostscript...
[PDF Converter] Ghostscript not found.

[Pipeline] âŒ PDF conversion failed: Cannot convert PDF to image. Please install one of the following tools:
1. ImageMagick: https://imagemagick.org/script/download.php
2. Ghostscript: https://www.ghostscript.com/download/gsdnld.html

Or manually convert the PDF to PNG using an online tool:
- https://www.ilovepdf.com/pdf_to_jpg
- https://smallpdf.com/pdf-to-jpg

[Pipeline] âŒ This means schematic graphics CANNOT be analyzed!
[Pipeline] ğŸ’¡ Suggestion: Upload PNG/JPG format or install pdf-poppler tools
[Pipeline] âš ï¸  Falling back to text extraction (will lose graphic info)...
```

---

## é”™è¯¯å¤„ç†åœºæ™¯

### åœºæ™¯ 1ï¼šAPI è¶…æ—¶åé‡è¯•æˆåŠŸ

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] ğŸ”„ Attempt 1/3
[Qwen Text API] â° Start time: 2024-01-15T10:30:48.123Z
[Qwen Text API] ğŸ“Š Request details:
[Qwen Text API]   â€¢ Model: qwen-plus
[Qwen Text API]   â€¢ Temperature: 0.3
[Qwen Text API]   â€¢ Max tokens: 8000
[Qwen Text API]   â€¢ Timeout: 120000ms (120s)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Qwen Text API] âŒ Error on attempt 1 (after 120000ms):
[Qwen Text API]   â€¢ Error type: AxiosError
[Qwen Text API]   â€¢ Error message: timeout of 120000ms exceeded
[Qwen Text API]   â€¢ Reason: Request timeout (exceeded 120000ms)
[Qwen Text API] ğŸ”„ Retrying in 2000ms... (2 retries left)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] ğŸ”„ Attempt 2/3
[Qwen Text API] â° Start time: 2024-01-15T10:32:50.234Z
[Qwen Text API] ğŸ“Š Request details:
[Qwen Text API]   â€¢ Model: qwen-plus
[Qwen Text API]   â€¢ Temperature: 0.3
[Qwen Text API]   â€¢ Max tokens: 8000
[Qwen Text API]   â€¢ Timeout: 120000ms (120s)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] âœ… Success!
[Qwen Text API] â±ï¸  API call time: 15678ms (15.68s)
[Qwen Text API] ğŸ“ˆ Token usage:
[Qwen Text API]   â€¢ Input tokens: 12845
[Qwen Text API]   â€¢ Output tokens: 2567
[Qwen Text API]   â€¢ Total tokens: 15412
```

**åˆ†æï¼š**
- ç¬¬ä¸€æ¬¡å°è¯•è¶…æ—¶ï¼ˆ120ç§’ï¼‰
- è‡ªåŠ¨é‡è¯•
- ç¬¬äºŒæ¬¡å°è¯•æˆåŠŸï¼ˆ15.68ç§’ï¼‰
- æ€»å…±è€—æ—¶ï¼š~137 ç§’

### åœºæ™¯ 2ï¼šAPI é…é¢ä¸è¶³

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Qwen Text API] ğŸ”„ Attempt 1/3
[Qwen Text API] â° Start time: 2024-01-15T10:30:48.123Z
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Qwen Text API] âŒ Error on attempt 1 (after 567ms):
[Qwen Text API]   â€¢ Error type: AxiosError
[Qwen Text API]   â€¢ Error message: Request failed with status code 429
[Qwen Text API]   â€¢ HTTP Status: 429 Too Many Requests
[Qwen Text API]   â€¢ Response data: {
  "code": "Throttling.RateQuota",
  "message": "API rate limit exceeded. Please try again later.",
  "request_id": "abc123-def456-ghi789"
}
[Qwen Text API] ğŸ”„ Retrying in 2000ms... (2 retries left)

[Qwen Text API] âŒ Error on attempt 2 (after 678ms):
[Qwen Text API]   â€¢ Error type: AxiosError
[Qwen Text API]   â€¢ Error message: Request failed with status code 429
[Qwen Text API]   â€¢ HTTP Status: 429 Too Many Requests
[Qwen Text API] ğŸ”„ Retrying in 2000ms... (1 retry left)

[Qwen Text API] âŒ Error on attempt 3 (after 589ms):
[Qwen Text API]   â€¢ Error type: AxiosError
[Qwen Text API]   â€¢ Error message: Request failed with status code 429
[Qwen Text API] âŒ All 3 attempts failed. Giving up.

[Pipeline] âŒ PIPELINE FAILED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ’¥ Error in Step 1
[Pipeline] â±ï¸  Time before failure: 7234ms (7.23s)
[Pipeline] ğŸ› Error type: Error
[Pipeline] ğŸ“ Error message: Qwen Text API failed after 3 attempts: API rate limit exceeded
```

**è§£å†³æ–¹æ³•ï¼š**
- ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•
- å‡çº§ API é…é¢
- å‡å°‘è¯·æ±‚é¢‘ç‡

### åœºæ™¯ 3ï¼šJSON è§£æå¤±è´¥ï¼ˆè‡ªåŠ¨ä¿®å¤æˆåŠŸï¼‰

```
[Pipeline] ğŸ“Š Analyzing API response...
[Pipeline]   â€¢ Response length: 4321 characters
[Pipeline]   â€¢ Response preview: {"registers":[{"address":"0x40021000","name":"RCC_CR"...
[Pipeline]   âš ï¸  JSON parse error: Unexpected token } in JSON at position 4120
[Pipeline]   â€¢ Attempting to fix JSON...
[Pipeline]   â€¢ Removed trailing commas
[Pipeline]   â€¢ Fixed incomplete arrays
[Pipeline]   â€¢ Closed 2 unclosed braces
[Pipeline] âœ“ Successfully fixed and parsed JSON
[Pipeline] Successfully extracted 15 registers
```

### åœºæ™¯ 4ï¼šJSON è§£æå®Œå…¨å¤±è´¥

```
[Pipeline] ğŸ“Š Analyzing API response...
[Pipeline]   â€¢ Response length: 234 characters
[Pipeline]   â€¢ Response preview: æŠ±æ­‰ï¼Œæˆ‘æ— æ³•ä»æä¾›çš„æ–‡æ¡£ä¸­æå–å‡ºå¯„å­˜å™¨ä¿¡æ¯...
[Pipeline]   âš ï¸  Warning: No JSON found in response
[Pipeline]   â€¢ Response preview: æŠ±æ­‰ï¼Œæˆ‘æ— æ³•ä»æä¾›çš„æ–‡æ¡£ä¸­æå–å‡ºå¯„å­˜å™¨ä¿¡æ¯ã€‚æä¾›çš„æ–‡æ¡£å¯èƒ½ä¸åŒ…å«å¯„å­˜å™¨ç›¸å…³çš„å†…å®¹ï¼Œæˆ–è€…æ ¼å¼ä¸ç¬¦åˆè¦æ±‚ã€‚è¯·æä¾›æ­£ç¡®çš„æ•°æ®æ‰‹å†Œæ–‡æ¡£ã€‚
[Pipeline]   â€¢ Returning empty register list

[Pipeline] âš ï¸  Warning: No registers extracted
[Pipeline]   â€¢ This may cause issues in code generation
[Pipeline]   â€¢ Please check if the datasheet is correct

[Pipeline] âœ… Step 1 completed in 15678ms (15.68s)
[Pipeline] ğŸ“Š Extracted data:
[Pipeline]   â€¢ Registers: 0
[Pipeline]   â€¢ Data size: 16 bytes
```

---

## æ€§èƒ½åˆ†æç¤ºä¾‹

### æœ€ä½³æ€§èƒ½æ¡ˆä¾‹ï¼ˆå…¨éƒ¨ä½¿ç”¨å›¾ç‰‡æ ¼å¼ï¼‰

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ“Š PIPELINE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] â±ï¸  Total execution time: 42345ms (42.35s)
[Pipeline] ğŸ“ˆ Step timings:
[Pipeline]   1. Extract Registers: 15234ms (15.23s) - 36.0%
[Pipeline]   2. Parse Schematic: 18567ms (18.57s) - 43.8%
[Pipeline]   3. Generate Code: 8544ms (8.54s) - 20.2%
[Pipeline] ğŸ“ Output file: generated_1705312845123.c
[Pipeline] âœ… Status: SUCCESS

[API] ğŸ“Š Generation Statistics:
[API]   â€¢ Total processing time: 42345ms (42.35s)
[API]   â€¢ Token usage total: 32145 tokens
[API]   â€¢ Estimated cost: Â¥0.26
```

**æ€§èƒ½åˆ†æï¼š**
- æ—  PDF è½¬æ¢å¼€é”€ï¼ˆç›´æ¥ä½¿ç”¨å›¾ç‰‡ï¼‰
- å„æ­¥éª¤è€—æ—¶å‡è¡¡
- Token ä½¿ç”¨è¾ƒå°‘
- æ€»è€—æ—¶æœ€ä¼˜

### æœ€æ…¢æ€§èƒ½æ¡ˆä¾‹ï¼ˆPDF è½¬æ¢ + è¶…æ—¶é‡è¯•ï¼‰

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] ğŸ“Š PIPELINE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Pipeline] â±ï¸  Total execution time: 185678ms (185.68s)
[Pipeline] ğŸ“ˆ Step timings:
[Pipeline]   1. Extract Registers: 135234ms (135.23s) - 72.8%
[Pipeline]   2. Parse Schematic: 35678ms (35.68s) - 19.2%
[Pipeline]   3. Generate Code: 14766ms (14.77s) - 8.0%
[Pipeline] ğŸ“ Output file: generated_1705312845123.c
[Pipeline] âœ… Status: SUCCESS

[API] ğŸ“Š Generation Statistics:
[API]   â€¢ Total processing time: 185678ms (185.68s)
[API]   â€¢ Token usage total: 45678 tokens
[API]   â€¢ Estimated cost: Â¥0.37
```

**æ€§èƒ½ç“¶é¢ˆï¼š**
- æ­¥éª¤ 1 å  72.8%ï¼ˆåŒ…å«è¶…æ—¶é‡è¯•ï¼‰
- PDF è½¬æ¢è€—æ—¶é•¿
- å¤šæ¬¡ API é‡è¯•
- Token ä½¿ç”¨è¾ƒå¤š

**ä¼˜åŒ–å»ºè®®ï¼š**
1. ä½¿ç”¨æ›´å°çš„ Datasheet æ–‡ä»¶
2. ç›´æ¥æä¾›å›¾ç‰‡æ ¼å¼åŸç†å›¾
3. å¢åŠ  API è¶…æ—¶æ—¶é—´
4. æ£€æŸ¥ç½‘ç»œè¿æ¥è´¨é‡

---

## æ—¥å¿—è¿‡æ»¤ç¤ºä¾‹

### åªçœ‹é”™è¯¯å’Œè­¦å‘Š

```powershell
node api_server.js 2>&1 | Select-String -Pattern "âŒ|âš ï¸|Error|Warning|Failed"
```

è¾“å‡ºï¼š
```
[Pipeline]   âš ï¸  Text truncated: 75432 â†’ 50000 characters
[Pipeline]   âš ï¸  Warning: No JSON found in response
[Qwen Text API] âŒ Error on attempt 1 (after 120000ms):
```

### åªçœ‹æ€§èƒ½ç»Ÿè®¡

```powershell
node api_server.js 2>&1 | Select-String -Pattern "â±ï¸|elapsed|completed in|Total"
```

è¾“å‡ºï¼š
```
[Pipeline]   âœ“ Text extraction completed in 2.34s
[Pipeline]   âœ“ API call completed in 15.68s
[Qwen Text API] â±ï¸  API call time: 15678ms (15.68s)
[Pipeline] âœ… Step 1 completed in 18234ms (18.23s)
[PDF Converter] â±ï¸  Total conversion time: 3567ms (3.57s)
[Pipeline] âœ… Step 2 completed in 26234ms (26.23s)
[Pipeline] âœ… Step 3 completed in 12456ms (12.46s)
[Pipeline] â±ï¸  Total execution time: 56924ms (56.92s)
```

### åªçœ‹ Token ä½¿ç”¨

```powershell
node api_server.js 2>&1 | Select-String -Pattern "Token usage|tokens"
```

è¾“å‡ºï¼š
```
[Qwen Text API] ğŸ“ˆ Token usage:
[Qwen Text API]   â€¢ Input tokens: 12845
[Qwen Text API]   â€¢ Output tokens: 2567
[Qwen Text API]   â€¢ Total tokens: 15412
[Qwen Vision API] ğŸ“ˆ Token usage:
[Qwen Vision API]   â€¢ Input tokens: 15678
[Qwen Vision API]   â€¢ Output tokens: 1456
[Qwen Vision API]   â€¢ Total tokens: 17134
[API]   â€¢ Token usage total: 36458 tokens
```

---

## æ€»ç»“

é€šè¿‡è¿™äº›æ—¥å¿—ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥ï¼š

âœ… **å¿«é€Ÿç†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶æ€**  
âœ… **å®šä½æ€§èƒ½ç“¶é¢ˆ**  
âœ… **è¯Šæ–­é”™è¯¯åŸå› **  
âœ… **ä¼˜åŒ–é…ç½®å’Œä½¿ç”¨æ–¹å¼**  
âœ… **æ§åˆ¶ API æˆæœ¬**  

---

## ç›¸å…³æ–‡æ¡£

- [è¯¦ç»†æ—¥å¿—æŒ‡å—](DETAILED_LOGGING_GUIDE.md)
- [æ—¥å¿—å¿«é€Ÿå…¥é—¨](LOGGING_QUICK_START.md)
- [æ•…éšœæ’æŸ¥æŒ‡å—](TROUBLESHOOTING.md)

---

**æœ€åæ›´æ–°**: 2024-01-15  
**ç‰ˆæœ¬**: 1.0
